<div class="card slate-card" data-ng-show="card"
  data-ui-draggable="true" data-drag="card"
  data-on-drop-success="dropSuccessHandler($event)"
  data-ng-class="{active:cardDragging}"
  data-ui-on-drop="combineCards($event, $data, card.id)">
  <div data-ng-show="card.userCanWrite || !board.p_lock()">
    <div class="cardcontent"
      data-editable-textarea="card.content"
      data-onbeforesave="checkCardContent($data, column.id, card.id)">
      <pre data-ng-show="card.content && (card.userCanWrite || board.p_seeContent())">
{{card.id}}{{card.content}}
      </pre>
      <pre data-ng-show="card.content && !card.userCanWrite && !board.p_seeContent()">
{{card.id}}{{card.content | obfuscated}}
      </pre>
      <pre data-ng-show="!card.content">
empty
      </pre>
    </div>
  </div>
  <div data-ng-show="!card.userCanWrite && board.p_lock()">
    <div class="cardcontent">
      <pre data-ng-show="card.content && (card.userCanWrite || board.p_seeContent())">
{{card.id}}{{card.content}}
      </pre>
      <pre data-ng-show="card.content && !card.userCanWrite && !board.p_seeContent()">
{{card.id}}{{card.content | obfuscated}}
      </pre>
      <pre data-ng-show="!card.content">
Empty
      </pre>
    </div>
  </div>
  <!--
  <div class="attached-cards" ng-show="card.attached">
    &nbsp;{{card.attached + 1}}&nbsp;
  </div>
  -->
  <p class="handle" title="Your votes: {{card.votes | myVotes}}">
    <span ng-show="board.p_seeVotes()">
      <strong>
          {{card.votes.length}}
      </strong>
    </span>
    <a href="#" data-ng-click="upvote(card, $event)">
        <svg class="icon-left" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="26" height="28" viewBox="0 0 26 28">
            <path d="M4 21q0-0.406-0.297-0.703t-0.703-0.297q-0.422 0-0.711 0.297t-0.289 0.703q0 0.422 0.289 0.711t0.711 0.289q0.406 0 0.703-0.289t0.297-0.711zM6.5 13v10q0 0.406-0.297 0.703t-0.703 0.297h-4.5q-0.406 0-0.703-0.297t-0.297-0.703v-10q0-0.406 0.297-0.703t0.703-0.297h4.5q0.406 0 0.703 0.297t0.297 0.703zM25 13q0 1.344-0.859 2.328 0.234 0.688 0.234 1.188 0.047 1.188-0.672 2.141 0.266 0.875 0 1.828-0.234 0.891-0.844 1.469 0.141 1.75-0.766 2.828-1 1.188-3.078 1.219h-2.016q-1.031 0-2.25-0.242t-1.898-0.453-1.883-0.617q-1.922-0.672-2.469-0.688-0.406-0.016-0.703-0.305t-0.297-0.695v-10.016q0-0.391 0.281-0.68t0.672-0.32q0.375-0.031 1.188-0.922t1.578-1.891q1.062-1.359 1.578-1.875 0.281-0.281 0.484-0.75t0.273-0.758 0.211-0.945q0.109-0.609 0.195-0.953t0.305-0.812 0.531-0.781q0.297-0.297 0.703-0.297 0.719 0 1.289 0.164t0.938 0.406 0.625 0.633 0.375 0.703 0.187 0.781 0.078 0.703 0.008 0.609q0 0.594-0.148 1.188t-0.297 0.938-0.43 0.875q-0.047 0.094-0.156 0.281t-0.172 0.344-0.125 0.375h4.328q1.219 0 2.109 0.891t0.891 2.109z" fill="#333333"></path>
        </svg>
    </a>
  </p>
</div>
